<h2 mat-dialog-title>Sélection d'un individu</h2>
<mat-dialog-content>
  <div class="custom-control custom-radio">
    <div class="">
      <input type="radio" id="select-individual" class="custom-control-input" name="type-individual" value="select" checked (change)="onSelectionChange()" [(ngModel)]="selectionType"><label class="custom-control-label" for="select-individual">Sélectionner un individu</label>
    </div>
    <div class="input-group">
      <select class="form-control" id="individual-to-select" [disabled]="selectionType != 'select'" [(ngModel)]="selectedIndividual">
        <option *ngFor="let indi of individuals" [value]="indi.id_individual">{{indi.identifier}} ({{indi.marker}})</option>
      </select>
    </div>
    <div class="mt-2">
      <input type="radio" id="create-individual" class="custom-control-input" name="type-individual" value="create" (change)="onSelectionChange()" [(ngModel)]="selectionType"><label class="custom-control-label" for="create-individual">Créer un individu</label>
    </div>
    <div class="">
      <form [formGroup]="individualForm">
        <pnx-dynamic-form-generator
          class="obj-form"
          #dynamicForm
          [autoGenerated]="true"
          [myFormGroup]="individualForm"
          [formsDefinition]="individualFormDefinitions"
        ></pnx-dynamic-form-generator>
        <gn-cmr-form-error [form]="individualForm"></gn-cmr-form-error>
     </form>
    </div>
  </div>
</mat-dialog-content>
<div mat-dialog-actions class="button-container">
  <button mat-raised-button *ngIf="selectionType == 'select'" class="btn btn-success" (click)="onCreateObservation()" [disabled]="selectedIndividual == undefined">Valider</button>
  <button mat-raised-button *ngIf="selectionType == 'create'" class="btn btn-success" (click)="onSubmitNewIndividual()" [disabled]="!individualForm.valid">Valider et ajouter {{module.forms.observation.label}}</button>
  <button mat-raised-button class="btn btn-warning" (click)="dialogRef.close()">Annuler</button>
</div>