<div class="main">
  <gn-cmr-header [currentPage]="'Edition Module: ' + module.module_label"></gn-cmr-header>
  <div class="flex-container">
    <div class="cadre" [style.min-height]="cardContentHeight + 'px'" [style.max-height]="cardContentHeight + 'px'">
      <pnx-map height="100%" class="map-card"></pnx-map>
    </div>
    <div class="cadre scroll" [style.max-height]="cardContentHeight + 'px'" style="overflow-y:auto">
      <h3>Edition Module: {{ module.module_label }}</h3>
      <div class="">
        <table class="table table-striped table-sm scrollable">
          <tr *ngFor="let fieldName of properties">
            <th>{{ fields[fieldName].attribut_label }}</th>
            <td class="text-in-area">{{ _dataService.formatProperty(module[fieldName], fields[fieldName])}}</td>
          </tr>
        </table>

        <form [formGroup]="moduleForm">
          <pnx-dynamic-form-generator
            class="obj-form"
            #dynamicForm
            [autoGenerated]="true"
            [myFormGroup]="moduleForm"
            [formsDefinition]="moduleFormDefinitions"
          ></pnx-dynamic-form-generator>

          <div class="clearfix toolbar">
            <button class="btn btn-primary float-left" [routerLink]="['..']">Annuler</button>
            <button class="btn btn-success float-right" [disabled]="!moduleForm.valid" (click)="onSubmit()"><i class="fa fa-check"></i>&nbsp;Valider</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
